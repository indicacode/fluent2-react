{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "list",
  "title": "List",
  "description": "Fluent2Tailwind List component.",
  "dependencies": [
    "react",
    "tailwind-variants"
  ],
  "files": [
    {
      "path": "registry/fluent2tailwind/list/list.tsx",
      "content": "import * as React from \"react\"\nimport { tv } from \"tailwind-variants\"\n\nconst listSlots = tv({\n  slots: {\n    list: \"flex flex-col gap-1\",\n    item: \"flex items-center\",\n  },\n  variants: {\n    navigationMode: {\n      items: {},\n      composite: {},\n    },\n    selected: {\n      true: { item: \"bg-accent text-primary\" },\n      false: {},\n    },\n  },\n  defaultVariants: {},\n})\n\ntype SelectionMode = \"single\" | \"multiselect\"\n\ntype ListContextValue = {\n  selectionMode?: SelectionMode\n  selectedItems: string[]\n  updateSelection: (nextSelection: string[]) => void\n}\n\nconst ListContext = React.createContext<ListContextValue | null>(null)\n\ntype ListProps = React.ComponentProps<\"ul\"> & {\n  as?: \"div\" | \"ol\" | \"ul\"\n  navigationMode?: \"items\" | \"composite\"\n  selectionMode?: \"single\" | \"multiselect\"\n  selectedItems?: string[]\n  defaultSelectedItems?: string[]\n  onSelectionChange?: (selectedItems: string[]) => void\n}\ntype ListItemProps = React.ComponentProps<\"li\"> & {\n  value?: string\n}\n\nfunction List({\n  as,\n  navigationMode,\n  selectionMode,\n  selectedItems,\n  defaultSelectedItems,\n  onSelectionChange,\n  children,\n  className,\n  ...props\n}: ListProps) {\n  const isControlled = selectedItems !== undefined\n  const [internalSelection, setInternalSelection] = React.useState<string[]>(\n    defaultSelectedItems ?? []\n  )\n  const currentSelection = isControlled\n    ? selectedItems ?? []\n    : internalSelection\n\n  function updateSelection(nextSelection: string[]) {\n    if (!isControlled) {\n      setInternalSelection(nextSelection)\n    }\n    onSelectionChange?.(nextSelection)\n  }\n\n  const Comp = as ?? \"ul\"\n  const { list } = listSlots({ navigationMode })\n\n  return (\n    <ListContext.Provider\n      value={{\n        selectionMode,\n        selectedItems: currentSelection,\n        updateSelection,\n      }}\n    >\n      <Comp\n        role={selectionMode ? \"listbox\" : undefined}\n        aria-multiselectable={\n          selectionMode === \"multiselect\" ? true : undefined\n        }\n        className={list({ className })}\n        {...props}\n      >\n        {children}\n      </Comp>\n    </ListContext.Provider>\n  )\n}\nfunction ListItem({ children, className, value, ...props }: ListItemProps) {\n  const context = React.useContext(ListContext)\n  const resolvedValue = value ?? \"\"\n  const isSelectable = !!context?.selectionMode && resolvedValue.length > 0\n  const isSelected = isSelectable\n    ? context?.selectedItems.includes(resolvedValue)\n    : false\n  const { item } = listSlots({ selected: isSelected })\n\n  function toggleSelection() {\n    if (!context || !isSelectable) return\n    if (context.selectionMode === \"single\") {\n      context.updateSelection([resolvedValue])\n      return\n    }\n    if (isSelected) {\n      context.updateSelection(\n        context.selectedItems.filter((item) => item !== resolvedValue)\n      )\n    } else {\n      context.updateSelection([...context.selectedItems, resolvedValue])\n    }\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent<HTMLLIElement>) {\n    if (!isSelectable) return\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault()\n      toggleSelection()\n    }\n  }\n\n  return (\n    <li\n      role={isSelectable ? \"option\" : undefined}\n      aria-selected={isSelectable ? isSelected : undefined}\n      tabIndex={isSelectable ? 0 : undefined}\n      className={item({ className })}\n      onClick={toggleSelection}\n      onKeyDown={handleKeyDown}\n      {...props}\n    >\n      {children}\n    </li>\n  )\n}\n\nexport { List, ListItem }\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}