{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "carousel",
  "title": "Carousel",
  "description": "Fluent2Tailwind Carousel component.",
  "dependencies": [
    "embla-carousel-react",
    "react",
    "react-icons",
    "tailwind-variants"
  ],
  "files": [
    {
      "path": "registry/fluent2tailwind/carousel/carousel.styles.ts",
      "content": "import { tv } from \"tailwind-variants\"\n\nexport const carouselSlots = tv({\n  slots: {\n    root: \"relative\",\n    content: \"overflow-hidden\",\n    contentInner: \"flex\",\n    item: \"min-w-0 shrink-0 grow-0 basis-full\",\n    previous: \"absolute size-8 rounded-full\",\n    next: \"absolute size-8 rounded-full\",\n  },\n  variants: {\n    orientation: {\n      horizontal: {\n        contentInner: \"-ml-4\",\n        item: \"pl-4\",\n        previous: \"top-1/2 -left-12 -translate-y-1/2\",\n        next: \"top-1/2 -right-12 -translate-y-1/2\",\n      },\n      vertical: {\n        contentInner: \"-mt-4 flex-col\",\n        item: \"pt-4\",\n        previous: \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        next: \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n      },\n    },\n    whitespace: {\n      none: {\n        contentInner: \"gap-0\",\n        item: \"p-0\",\n      },\n      sm: {\n        contentInner: \"-ml-2\",\n        item: \"pl-2\",\n      },\n      md: {\n        contentInner: \"-ml-4\",\n        item: \"pl-4\",\n      },\n      lg: {\n        contentInner: \"-ml-6\",\n        item: \"pl-6\",\n      },\n    },\n  },\n})\n\nexport const carouselStyles = carouselSlots()\n",
      "type": "registry:lib"
    },
    {
      "path": "registry/fluent2tailwind/carousel/carousel.tsx",
      "content": "\"use client\"\n\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport * as React from \"react\"\nimport { FaArrowLeft, FaArrowRight } from \"react-icons/fa\"\nimport { carouselStyles } from \"./carousel.styles\"\n\nimport Button from \"@/registry/fluent2tailwind/button/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n  activeIndex?: number\n  defaultActiveIndex?: number\n  onActiveIndexChange?: (activeIndex: number) => void\n  align?: CarouselOptions[\"align\"]\n  draggable?: boolean\n  groupSize?: number\n  circular?: boolean\n  autoplayInterval?: number\n  motion?: \"default\" | \"none\"\n  appearance?: \"default\" | \"subtle\"\n  whitespace?: \"none\" | \"sm\" | \"md\" | \"lg\"\n  announcement?: string\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n  appearance?: \"default\" | \"subtle\"\n  whitespace?: \"none\" | \"sm\" | \"md\" | \"lg\"\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nconst { root, content, contentInner, item, previous, next } = carouselStyles\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nfunction Carousel({\n  orientation = \"horizontal\",\n  opts,\n  setApi,\n  plugins,\n  activeIndex,\n  defaultActiveIndex,\n  onActiveIndexChange,\n  align,\n  draggable = true,\n  groupSize,\n  circular = false,\n  autoplayInterval,\n  motion = \"default\",\n  appearance = \"default\",\n  whitespace = \"md\",\n  announcement,\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & CarouselProps) {\n  const allowedAlign = new Set([\"start\", \"center\", \"end\"])\n  const resolvedAlign =\n    typeof align === \"function\"\n      ? align\n      : typeof align === \"string\" && allowedAlign.has(align)\n        ? align\n        : typeof opts?.align === \"function\"\n          ? opts.align\n          : typeof opts?.align === \"string\" && allowedAlign.has(opts.align)\n            ? opts.align\n            : undefined\n\n  const carouselOptions: CarouselOptions = {\n    ...opts,\n    axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n    draggable: draggable ?? opts?.draggable,\n    slidesToScroll: groupSize ?? opts?.slidesToScroll,\n    loop: circular ?? opts?.loop,\n  }\n\n  if (resolvedAlign !== undefined) {\n    carouselOptions.align = resolvedAlign\n  } else if (\"align\" in carouselOptions) {\n    delete carouselOptions.align\n  }\n\n  const [carouselRef, api] = useEmblaCarousel(carouselOptions, plugins)\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n  const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n  function scrollPrev() {\n    if (!api) return\n    api?.scrollPrev()\n  }\n\n  function scrollNext() {\n    api?.scrollNext()\n  }\n\n  function handleKeyDown(event: React.KeyboardEvent<HTMLDivElement>) {\n    if (event.key === \"ArrowLeft\") {\n      event.preventDefault()\n      scrollPrev()\n    } else if (event.key === \"ArrowRight\") {\n      event.preventDefault()\n      scrollNext()\n    }\n  }\n\n  React.useEffect(() => {\n    if (!api || !setApi) return\n    setApi(api)\n  }, [api, setApi])\n\n  React.useEffect(() => {\n    if (!api) return\n    function handleSelect(currentApi: CarouselApi) {\n      if (!currentApi) return\n      setCanScrollPrev(currentApi.canScrollPrev())\n      setCanScrollNext(currentApi.canScrollNext())\n      onActiveIndexChange?.(currentApi.selectedScrollSnap())\n    }\n\n    handleSelect(api)\n    api.on(\"reInit\", handleSelect)\n    api.on(\"select\", handleSelect)\n\n    return () => {\n      api?.off(\"select\", handleSelect)\n    }\n  }, [api, onActiveIndexChange])\n\n  React.useEffect(() => {\n    if (!api) return\n    if (activeIndex === undefined) return\n    api.scrollTo(activeIndex)\n  }, [api, activeIndex])\n\n  React.useEffect(() => {\n    if (!api) return\n    if (defaultActiveIndex === undefined) return\n    api.scrollTo(defaultActiveIndex, true)\n  }, [api, defaultActiveIndex])\n\n  React.useEffect(() => {\n    if (!api || !autoplayInterval || autoplayInterval <= 0) return\n    const id = window.setInterval(() => {\n      if (api.canScrollNext()) {\n        api.scrollNext()\n      } else if (circular) {\n        api.scrollTo(0)\n      }\n    }, autoplayInterval)\n    return () => window.clearInterval(id)\n  }, [api, autoplayInterval, circular])\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation:\n          orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext,\n        appearance,\n        whitespace,\n      }}\n    >\n      <div\n        onKeyDownCapture={handleKeyDown}\n        className={root({ className })}\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        data-slot=\"carousel\"\n        data-appearance={appearance}\n        data-motion={motion}\n        {...props}\n      >\n        {announcement && (\n          <span className=\"sr-only\" aria-live=\"polite\">\n            {announcement}\n          </span>\n        )}\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  )\n}\n\nfunction CarouselContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { carouselRef, orientation, whitespace } = useCarousel()\n\n  return (\n    <div\n      ref={carouselRef}\n      className={content()}\n      data-slot=\"carousel-content\"\n    >\n      <div\n        className={contentInner({ orientation, whitespace, className })}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CarouselItem({ className, ...props }: React.ComponentProps<\"div\">) {\n  const { orientation, whitespace } = useCarousel()\n\n  return (\n    <div\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      data-slot=\"carousel-item\"\n      className={item({ orientation, whitespace, className })}\n      {...props}\n    />\n  )\n}\n\nfunction CarouselPrevious({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-previous\"\n      variant={variant}\n      size={size}\n      className={previous({ orientation, className })}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <p>\n        <FaArrowLeft className=\"text-xs\"/>\n      </p>\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n}\n\nfunction CarouselNext({\n  className,\n  variant = \"outline\",\n  size = \"icon\",\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      data-slot=\"carousel-next\"\n      variant={variant}\n      size={size}\n      className={next({ orientation, className })}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <p>\n        <FaArrowRight className=\"text-xs\"/>\n      </p>\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n}\n\nexport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious,\n  type CarouselApi\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}