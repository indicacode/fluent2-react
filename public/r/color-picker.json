{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "color-picker",
  "title": "Color Picker",
  "description": "Fluent2Tailwind Color Picker component.",
  "dependencies": [
    "react",
    "tailwind-variants"
  ],
  "files": [
    {
      "path": "registry/fluent2tailwind/color-picker/color-picker.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { useEffect, useMemo, useState } from \"react\"\nimport { tv, VariantProps } from \"tailwind-variants\"\n\nconst colorPicker = tv({\n  slots: {\n    root: \"flex items-center gap-3\",\n    swatch:\n      \"h-8 w-8 shrink-0 border border-border bg-background shadow-xs\",\n    input:\n      \"h-8 w-24 rounded-[4px] border border-border bg-background px-2 text-sm text-foreground outline-hidden focus:border-primary\",\n    colorInput:\n      \"h-8 w-10 cursor-pointer rounded-[4px] border border-border bg-background p-0\",\n  },\n  variants: {\n    shape: {\n      rounded: { swatch: \"rounded-md\", colorInput: \"rounded-md\" },\n      square: { swatch: \"rounded-none\", colorInput: \"rounded-none\" },\n    },\n    disabled: {\n      true: {\n        root: \"opacity-60\",\n        input: \"cursor-not-allowed bg-muted\",\n        colorInput: \"cursor-not-allowed bg-muted\",\n      },\n    },\n    size: {\n      sm: { swatch: \"h-6 w-6\", input: \"h-7 w-20 text-xs\" },\n      md: { swatch: \"h-8 w-8\", input: \"h-8 w-24 text-sm\" },\n      lg: { swatch: \"h-10 w-10\", input: \"h-10 w-28 text-base\" },\n    },\n  },\n  defaultVariants: {\n    shape: \"rounded\",\n    size: \"md\",\n  },\n})\n\nconst { root, swatch, input, colorInput } = colorPicker()\n\nexport type ColorPickerProps = Omit<\n  React.ComponentProps<\"input\">,\n  \"value\" | \"defaultValue\" | \"onChange\" | \"type\"\n> &\n  VariantProps<typeof colorPicker> & {\n    value?: string\n    defaultValue?: string\n    onChange?: (value: string) => void\n    showHexInput?: boolean\n  }\n\nfunction normalizeHex(value: string) {\n  if (!value) return \"#000000\"\n  if (value.startsWith(\"#\")) return value\n  return `#${value}`\n}\n\nfunction ColorPicker({\n  value,\n  defaultValue = \"#2563eb\",\n  onChange,\n  disabled,\n  shape,\n  size,\n  showHexInput = true,\n  className,\n  ...props\n}: ColorPickerProps) {\n  const isControlled = value !== undefined\n  const [internal, setInternal] = useState(normalizeHex(defaultValue))\n  const currentValue = useMemo(\n    () => normalizeHex(isControlled ? value! : internal),\n    [isControlled, value, internal]\n  )\n\n  useEffect(() => {\n    if (isControlled && value) {\n      setInternal(normalizeHex(value))\n    }\n  }, [isControlled, value])\n\n  function handleChange(next: string) {\n    if (!isControlled) {\n      setInternal(next)\n    }\n    onChange?.(next)\n  }\n\n  return (\n    <div\n      data-slot=\"color-picker\"\n      className={root({ shape, size, disabled, className })}\n    >\n      <span\n        aria-hidden\n        className={swatch({ shape, size })}\n        style={{ backgroundColor: currentValue }}\n      />\n      <input\n        data-slot=\"color-picker-input\"\n        type=\"color\"\n        value={currentValue}\n        onChange={(event) => handleChange(event.target.value)}\n        disabled={disabled}\n        className={colorInput({ shape, size, disabled })}\n        {...props}\n      />\n      {showHexInput && (\n        <input\n          data-slot=\"color-picker-hex\"\n          type=\"text\"\n          value={currentValue.toUpperCase()}\n          onChange={(event) => handleChange(normalizeHex(event.target.value))}\n          disabled={disabled}\n          className={input({ size, disabled })}\n          aria-label=\"Hex color\"\n        />\n      )}\n    </div>\n  )\n}\n\nexport { ColorPicker }\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}