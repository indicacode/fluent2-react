{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "searchbox",
  "title": "Searchbox",
  "description": "Fluent2Tailwind Searchbox component.",
  "dependencies": [
    "react",
    "react-icons",
    "tailwind-variants"
  ],
  "files": [
    {
      "path": "registry/fluent2tailwind/searchbox/searchbox.tsx",
      "content": "import React, { useEffect, useRef, useState } from \"react\"\nimport { PiMagnifyingGlassLight, PiXLight } from \"react-icons/pi\"\nimport { tv } from \"tailwind-variants\"\n\nconst searchboxVariants = tv({\n  variants: {\n    size: { small: \"text-xs\", medium: \"text-base\", large: \"text-xl\" },\n    disabled: { true: \"cursor-not-allowed opacity-50\" },\n    appearance: {\n      outline: \"border border-border\",\n      underline: \"\",\n      \"filled-darker\": \"bg-muted\",\n      \"filled-lighter\": \"bg-background\",\n      \"filled-darker-shadow\": \"bg-muted shadow-2xl\",\n      \"filled-lighter-shadow\": \"bg-background shadow-2xl\",\n    },\n  },\n  defaultVariants: { size: \"medium\", appearance: \"outline\" },\n})\n\ntype SearchBoxVariantProps = Parameters<typeof searchboxVariants>[0]\n\ntype SearchBoxProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"size\"\n> &\n  SearchBoxVariantProps & {\n    value?: string\n    defaultValue?: string\n    beforeContent?: React.ReactNode\n    afterContent?: React.ReactNode\n    placeholder?: string\n  }\n\nexport function SearchBox({\n  value,\n  defaultValue = \"\",\n  onChange,\n  className,\n  beforeContent,\n  afterContent,\n  appearance,\n  placeholder,\n  disabled = false,\n  type = \"text\",\n  size,\n  ...props\n}: SearchBoxProps) {\n  const [string, setString] = useState(value?.toString())\n  const [focused, setFocused] = useState(false)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    setString(value?.toString())\n  }, [value])\n\n  const handleClear = () => {\n    if (disabled) return\n    setString(\"\")\n    inputRef.current?.focus()\n    onChange?.({ target: { value: \"\" } } as React.ChangeEvent<HTMLInputElement>)\n  }\n\n  return (\n    <div\n      tabIndex={-1}\n      className={\n        searchboxVariants({ appearance, disabled, size }) +\n        \" relative flex items-center justify-between gap-2 overflow-hidden rounded-md px-3 py-2 text-muted-foreground\" +\n        \" \" +\n        className\n      }\n    >\n      {beforeContent ?? <PiMagnifyingGlassLight />}\n      <div\n        ref={containerRef}\n        onFocus={() => setFocused(true)}\n        onBlur={(e) => {\n          if (!containerRef.current?.contains(e.relatedTarget as Node)) {\n            setFocused(false)\n          }\n        }}\n        className=\"flex w-full items-center gap-2\"\n      >\n        <input\n          onChange={(e) => {\n            setString(e.target.value)\n            onChange?.(e)\n          }}\n          disabled={disabled}\n          ref={inputRef}\n          value={string || defaultValue || \"\"}\n          type={type}\n          placeholder={placeholder}\n          className={`w-full text-foreground outline-0 disabled:cursor-not-allowed`}\n          {...props}\n        />\n        {focused && (\n          <>\n            {afterContent && (\n              <button\n                type=\"button\"\n                onClick={() => {\n                  inputRef.current?.focus()\n                }}\n                className=\"hover:cursor-pointer\"\n              >\n                {afterContent}\n              </button>\n            )}\n            <button\n              type=\"button\"\n              className=\"hover:cursor-pointer\"\n              onClick={handleClear}\n            >\n              <PiXLight />\n            </button>\n          </>\n        )}\n      </div>\n      <div className={`absolute bottom-0 left-0 h-[1px] w-full bg-border`} />\n      <div\n        className={`bg-primary absolute bottom-0 h-[2px] transition-all ${\n          focused ? \"left-0 w-full\" : \"left-1/2 w-0\"\n        }`}\n      />\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:component"
}